{{/*
    Copyright 2016 The Vanadium Authors. All rights reserved.
    Use of this source code is governed by a BSD-style
    license that can be found in the LICENSE file.
*/}}

{{define "content"}}

<section class="section--center mdl-grid">
    <h5>Syncbase</h5>
    <div class="mdl-cell mdl-cell--12-col">
      Service "{{.Service.FullName}}"
    </div>
</section>

{{range .Tree}}
  <section class="section--center mdl-grid">
    {{ $db := .Database.Id }}
    <h5>Database "{{$db.Name}}"</h5>
      <div class="mdl-cell mdl-cell--12-col">
        App Blessing "{{$db.Blessing}}"
      </div>
      <div class="mdl-cell mdl-cell--12-col">
        <dl>
        {{range .Collections}}
          <dt>Collection "{{.Id.Name}}"<dt>
          <dd>Creator's User Blessing "{{.Id.Blessing}}"</dd>
          <dd><a href="syncbase/collection?n={{$.ServerName}}&db={{$db.Blessing}}&dn={{$db.Name}}&cb={{.Id.Blessing}}&cn={{.Id.Name}}">More...</a></dd>
        {{else}}
          <dt>(no collections)</dt>
        {{end}}
      </dl>
    </div>
    <div class="mdl-cell mdl-cell--12-col">
      <dl>
        {{range .Syncgroups}}
          <dt>Syncgroup "{{.Id.Name}}"<dt>
          <dd>Blessing "{{.Id.Blessing}}"</dd>
        {{else}}
          <dt>(no syncgroups)</dt>
        {{end}}
      </dl>
    </div>
  </section>
{{else}}
  <section class="section--center mdl-grid">
    <div class="mdl-cell mdl-cell--12-col">
        (No databases)
      </div>
  <section>
{{end}}


{{end}}
